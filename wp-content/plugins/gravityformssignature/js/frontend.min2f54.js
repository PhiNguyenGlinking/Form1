function gformSignatureResize(){function n(e){return e.gfieldWidth>e.width?e.width:e.gfieldWidth}function a(e){return{width:n(e),height:(t=n(e),i=e,Math.round(t*i.$container.data("ratio")))};var t,i}jQuery(".gfield_signature_container").each(function(){var e,t,i,n=(e=jQuery(this),t=e.closest(".gfield"),{$container:e,fieldID:t.find(".gfield_label").attr("for"),gfieldWidth:t.innerWidth(),width:e.data("original-width"),dataInput:e.parent().find('input[name$="_data"]:eq( 0 )'),fieldExists:function(){return void 0!==this.fieldID},dataInputExists:function(){return 0<this.dataInput.length}}),r=a(n);if(n.fieldExists()&&n.dataInputExists()){if((i=Base64.decode(n.dataInput.val()))&&r.width<n.width)return SignatureEnabled(n.fieldID,!1),void jQuery("#"+n.fieldID+"_lockedReset").show();ResizeSignature(n.fieldID,r.width,r.height),ClearSignature(n.fieldID),i&&LoadSignature(n.fieldID,i,1)}})}jQuery(window).on("gform_post_render",function(e){jQuery(".gfield_signature_container").each(function(){if(!jQuery(this).data("original-width")){var e=parseFloat(jQuery(this).css("width")),t=parseFloat(jQuery(this).css("height")),i=jQuery(this).parent().parent().find(".gfield_label").attr("for"),n=jQuery("#"+i+"_resetbutton");n.click(function(){SignatureEnabled(i,!0),ClearSignature(i),gformSignatureResize()}).parent().append('<button type="button" id="'+i+'_lockedReset" class="gform_signature_locked_reset" style="display:none;height:24px;cursor:pointer;padding: 0 0 0 1.8em;opacity:0.75;font-size:0.813em;border:0;background: transparent url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NDggNTEyIiBjbGFzcz0idW5kZWZpbmVkIj48cGF0aCBkPSJNNDAwIDIyNGgtMjR2LTcyQzM3NiA2OC4yIDMwNy44IDAgMjI0IDBTNzIgNjguMiA3MiAxNTJ2NzJINDhjLTI2LjUgMC00OCAyMS41LTQ4IDQ4djE5MmMwIDI2LjUgMjEuNSA0OCA0OCA0OGgzNTJjMjYuNSAwIDQ4LTIxLjUgNDgtNDhWMjcyYzAtMjYuNS0yMS41LTQ4LTQ4LTQ4em0tMTA0IDBIMTUydi03MmMwLTM5LjcgMzIuMy03MiA3Mi03MnM3MiAzMi4zIDcyIDcydjcyeiIgY2xhc3M9InVuZGVmaW5lZCIvPjwvc3ZnPg==) no-repeat left center;background-size:16px;">'+gform_signature_frontend_strings.lockedReset+"</button>"),jQuery("#"+i+"_lockedReset").click(function(){jQuery(this).hide(),n.click()}),jQuery("#"+i+"_status").hide(),jQuery(this).data("ratio",t/e),jQuery(this).data("original-width",e)}})}),jQuery(document).ready(function(e){e(window).on("load resize",function(){gformSignatureResize()})});